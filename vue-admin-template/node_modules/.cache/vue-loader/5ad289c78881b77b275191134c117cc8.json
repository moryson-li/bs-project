{"remainingRequest":"/home/moryson/Desktop/project/vue-admin-template/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/moryson/Desktop/project/vue-admin-template/src/views/ProcessTree/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/moryson/Desktop/project/vue-admin-template/src/views/ProcessTree/index.vue","mtime":1650942081813},{"path":"/home/moryson/Desktop/project/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1650942601504},{"path":"/home/moryson/Desktop/project/vue-admin-template/node_modules/babel-loader/lib/index.js","mtime":1650942603644},{"path":"/home/moryson/Desktop/project/vue-admin-template/node_modules/cache-loader/dist/cjs.js","mtime":1650942601504},{"path":"/home/moryson/Desktop/project/vue-admin-template/node_modules/vue-loader/lib/index.js","mtime":1650942604480}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlRGF0YTogW10KICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNyZWF0ZSgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBjcmVhdGUoKSB7CiAgICAgIHZhciBtYXJnaW4gPSB7IHRvcDogNjAsIHJpZ2h0OiAyNzAsIGJvdHRvbTogOTAsIGxlZnQ6IDI3MCB9CiAgICAgIGNvbnN0IHdpZHRoID0gNDAwMCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0CiAgICAgIGNvbnN0IGhlaWdodCA9IDIwMDAgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbQogICAgICAvLyBkZWNsYXJlcyBhIHRyZWUgbGF5b3V0IGFuZCBhc3NpZ25zIHRoZSBzaXplCiAgICAgIHZhciB0cmVlbWFwID0gZDMudHJlZSgpCiAgICAgICAgLnNpemUoW2hlaWdodCwgd2lkdGhdKQogICAgICAvLyBsb2FkIHRoZSBleHRlcm5hbCBkYXRhCiAgICAgIGQzLmNzdignYXR0YWNrX3RyZWUuY3N2JykKICAgICAgICAudGhlbihmdW5jdGlvbihjc3ZEYXRhKSB7IC8vLnRoZW4oZnVuY3Rpb24odHJlZURhdGEpCiAgICAgICAgdmFyIHRyZWVEYXRhID0gZDMuc3RyYXRpZnkoKQogICAgICAgICAgICAgLmlkKGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQubmFtZTsgfSkKICAgICAgICAgICAgIC5wYXJlbnRJZChmdW5jdGlvbihkKSB7IHJldHVybiBkLnBhcmVudDsgfSkoY3N2RGF0YSkKCSAgICB0cmVlRGF0YS5lYWNoKGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgIGQubmFtZSA9IGQuaWQ7CgkgICAgfSkKCXZhciBub2RlcyA9IGQzLmhpZXJhcmNoeSh0cmVlRGF0YSwgZnVuY3Rpb24oZCkgewogICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4KICAgICAgICB9KQoKICAgICAgICAvLyBtYXBzIHRoZSBub2RlIGRhdGEgdG8gdGhlIHRyZWUgbGF5b3V0CiAgICAgICAgbm9kZXMgPSB0cmVlbWFwKG5vZGVzKQoKICAgICAgICAvLyBhcHBlbmQgdGhlIHN2ZyBvYmplY3QgdG8gdGhlIGJvZHkgb2YgdGhlIHBhZ2UKICAgICAgICAvLyBhcHBlbmRzIGEgJ2dyb3VwJyBlbGVtZW50IHRvICdzdmcnCiAgICAgICAgLy8gbW92ZXMgdGhlICdncm91cCcgZWxlbWVudCB0byB0aGUgdG9wIGxlZnQgbWFyZ2luCiAgICAgICAgdmFyIHN2ZyA9IGQzCiAgICAgICAgICAgLnNlbGVjdCgnI3Byb2Nlc3N0cmVlJykKICAgICAgICAgICAuYXBwZW5kKCdzdmcnKQogICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpCiAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKQogICAgICAgICAgIC5hdHRyKCdjdXJzb3InLCAnZ3JhYicpCiAgICAgICAgICAgLmF0dHIoJ3Bvc2l0aW9uJywgJ3JlbGF0aXZlJykKICAgICAgICB2YXIgZyA9IHN2Zy5hcHBlbmQoJ2cnKQogICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsICcgKyBtYXJnaW4udG9wICsgJyknKQogICAgIC8vInN2ZyLjgatab29t44Kk44OZ44Oz44OI44KS6Kit5a6aCiAgICAgIHZhciB6b29tID0gZDMuem9vbSgpCiAgICAgICAgLnNjYWxlRXh0ZW50KFsxLzQsNF0pCiAgICAgICAgLm9uKCd6b29tJywgU1ZHem9vbWVkKTsKIAogICAgICBzdmcuY2FsbCh6b29tKTsKIAogICAgICAvLyJzdmci5LiK44GrImci44KSYXBwZW5k44GX44GmZHJhZ+OCpOODmeODs+ODiOOCkuioreWumgogICAgICB2YXIgZyA9IHN2Zy5hcHBlbmQoImciKQogICAgICAgIC5jYWxsKGQzLmRyYWcoKQogICAgICAgIC5vbignZHJhZycsU1ZHZHJhZ2dlZCkpCiAKICAgICAgZnVuY3Rpb24gU1ZHem9vbWVkKGV2ZW50KSB7CiAgICAgICAgZy5hdHRyKCJ0cmFuc2Zvcm0iLCBldmVudC50cmFuc2Zvcm0pOwogICAgICB9CiAgICAgICBmdW5jdGlvbiBTVkdkcmFnZ2VkKGV2ZW50LGQpIHsKICAgICBkMy5zZWxlY3QodGhpcykuYXR0cignY3gnLCBkLnggPSBldmVudC54KS5hdHRyKCdjeScsIGQueSA9IGV2ZW50LnkpOwogICAgICAgIH07CgogIC8vIGFkZHMgdGhlIGxpbmtzIGJldHdlZW4gdGhlIG5vZGVzCiAgdmFyIGxpbmsgPSBnLnNlbGVjdEFsbCgnLmxpbmsnKQogICAgLmRhdGEobm9kZXMuZGVzY2VuZGFudHMoKS5zbGljZSgxKSkKICAgIC5lbnRlcigpLmFwcGVuZCgncGF0aCcpCiAgICAuYXR0cignY2xhc3MnLCAnbGluaycpCiAgICAuYXR0cignZCcsIGZ1bmN0aW9uKGQpIHsKICAgICAgIHJldHVybiAnTScgKyBkLnkgKyAnLCcgKyBkLnggKyAnQycgKyAoZC55ICsgZC5wYXJlbnQueSkgLyAyICsgJywnICsgZC54ICsgJyAnICsgKGQueSArIGQucGFyZW50LnkpIC8gMiArICcsJyArIGQucGFyZW50LnggKyAnICcgKyBkLnBhcmVudC55ICsgJywnICsgZC5wYXJlbnQueAogICAgICAgfSkKCiAgLy8gYWRkcyBlYWNoIG5vZGUgYXMgYSBncm91cAogIHZhciBub2RlID0gZy5zZWxlY3RBbGwoJy5ub2RlJykKICAgIC5kYXRhKG5vZGVzLmRlc2NlbmRhbnRzKCkpCiAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKQogICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24oZCkgewogICAgICByZXR1cm4gJ25vZGUnICsgKGQuY2hpbGRyZW4gPyAnIG5vZGUtLWludGVybmFsJyA6ICcgbm9kZS0tbGVhZicpCiAgICB9KQogICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQpIHsKICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueSArICcsJyArIGQueCArICcpJwogICAgfSkKCiAgLy8gYWRkcyB0aGUgY2lyY2xlIHRvIHRoZSBub2RlCiAgbm9kZS5hcHBlbmQoJ2NpcmNsZScpCiAgICAuYXR0cigncicsIDEwKQoKICAvLyBhZGRzIHRoZSB0ZXh0IHRvIHRoZSBub2RlCiAgbm9kZS5hcHBlbmQoJ3RleHQnKQogICAgLmF0dHIoJ2R5JywgJy4zNWVtJykKICAgIC5hdHRyKCd4JywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5jaGlsZHJlbiA/IC0xMyA6IDEzIH0pCiAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgZnVuY3Rpb24oZCkgewogICAgcmV0dXJuIGQuY2hpbGRyZW4gPyAnZW5kJyA6ICdzdGFydCcKICAgIH0pCiAgICAudGV4dChmdW5jdGlvbihkKSB7IHJldHVybiBkLmRhdGEubmFtZSB9KQogICB9KQogIH0KIH0KfQogICAgCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;AAKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/ProcessTree","sourcesContent":["<template>\n  <div id=\"processtree\"/>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  data() {\n    return {\n      treeData: []\n    }\n  },\n  mounted() {\n    this.create()\n  },\n  methods: {\n    create() {\n      var margin = { top: 60, right: 270, bottom: 90, left: 270 }\n      const width = 4000 - margin.left - margin.right\n      const height = 2000 - margin.top - margin.bottom\n      // declares a tree layout and assigns the size\n      var treemap = d3.tree()\n        .size([height, width])\n      // load the external data\n      d3.csv('attack_tree.csv')\n        .then(function(csvData) { //.then(function(treeData)\n        var treeData = d3.stratify()\n             .id(function(d) { return d.name; })\n             .parentId(function(d) { return d.parent; })(csvData)\n\t    treeData.each(function(d) {\n             d.name = d.id;\n\t    })\n\tvar nodes = d3.hierarchy(treeData, function(d) {\n          return d.children\n        })\n\n        // maps the node data to the tree layout\n        nodes = treemap(nodes)\n\n        // append the svg object to the body of the page\n        // appends a 'group' element to 'svg'\n        // moves the 'group' element to the top left margin\n        var svg = d3\n           .select('#processtree')\n           .append('svg')\n           .attr('width', width + margin.left + margin.right)\n           .attr('height', height + margin.top + margin.bottom)\n           .attr('cursor', 'grab')\n           .attr('position', 'relative')\n        var g = svg.append('g')\n           .attr('transform', 'translate(' + margin.left + ', ' + margin.top + ')')\n     //\"svg\"にZoomイベントを設定\n      var zoom = d3.zoom()\n        .scaleExtent([1/4,4])\n        .on('zoom', SVGzoomed);\n \n      svg.call(zoom);\n \n      //\"svg\"上に\"g\"をappendしてdragイベントを設定\n      var g = svg.append(\"g\")\n        .call(d3.drag()\n        .on('drag',SVGdragged))\n \n      function SVGzoomed(event) {\n        g.attr(\"transform\", event.transform);\n      }\n       function SVGdragged(event,d) {\n     d3.select(this).attr('cx', d.x = event.x).attr('cy', d.y = event.y);\n        };\n\n  // adds the links between the nodes\n  var link = g.selectAll('.link')\n    .data(nodes.descendants().slice(1))\n    .enter().append('path')\n    .attr('class', 'link')\n    .attr('d', function(d) {\n       return 'M' + d.y + ',' + d.x + 'C' + (d.y + d.parent.y) / 2 + ',' + d.x + ' ' + (d.y + d.parent.y) / 2 + ',' + d.parent.x + ' ' + d.parent.y + ',' + d.parent.x\n       })\n\n  // adds each node as a group\n  var node = g.selectAll('.node')\n    .data(nodes.descendants())\n    .enter().append('g')\n    .attr('class', function(d) {\n      return 'node' + (d.children ? ' node--internal' : ' node--leaf')\n    })\n    .attr('transform', function(d) {\n      return 'translate(' + d.y + ',' + d.x + ')'\n    })\n\n  // adds the circle to the node\n  node.append('circle')\n    .attr('r', 10)\n\n  // adds the text to the node\n  node.append('text')\n    .attr('dy', '.35em')\n    .attr('x', function(d) { return d.children ? -13 : 13 })\n    .style('text-anchor', function(d) {\n    return d.children ? 'end' : 'start'\n    })\n    .text(function(d) { return d.data.name })\n   })\n  }\n }\n}\n    \n</script>\n\n<style>\n\n.node circle {\n  fill: #fff;\n  stroke: steelblue;\n  stroke-width: 3px;\n}\n\n.node text { font: 12px sans-serif; }\n\n.node--internal text {\n  text-shadow: 0 1px 0 #fff, 0 -1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;\n}\n\n.link {\n  fill: none;\n  stroke: #ccc;\n  stroke-width: 2px;\n}\n\n</style>\n"]}]}